import React from "react";
import PropTypes from "prop-types";
import "./Filter.css";
import { sortKindRestaurants } from "./../storage/reataurants"

const filter = props => {
  const { searchText, sortKind, onSearchChange, onSortChange } = props;

  const renderDebug = () => {
    if (process.env.NODE_ENV === "production") return null;

    const { isDebug, onDebugChange } = props;
    return (
      <label className="debug">
        <input type="checkbox" checked={isDebug} onChange={onDebugChange} />
        Show Debug Info
      </label>
    );
  };

  // Todo: make <option> tags automatically generated by sortKindRestaurants.forEach(...)
  return (
    <div className="filter">
      <label className="search">
        Search
        <input type="text" value={searchText} onChange={onSearchChange} />
      </label>

      {renderDebug()}

      <label className="sort">
        Sort
        <select value={sortKind} onChange={onSortChange}>
          <option value="0">{sortKindRestaurants.get(0)}</option>
          <option value="1">{sortKindRestaurants.get(1)}</option>
          <option value="2">{sortKindRestaurants.get(2)}</option>
          <option value="3">{sortKindRestaurants.get(3)}</option>
          <option value="4">{sortKindRestaurants.get(4)}</option>
          <option value="5">{sortKindRestaurants.get(5)}</option>
          <option value="6">{sortKindRestaurants.get(6)}</option>
          <option value="7">{sortKindRestaurants.get(7)}</option>
          <option value="8">{sortKindRestaurants.get(8)}</option>
          <option value="9">{sortKindRestaurants.get(9)}</option>
        </select>
      </label>
    </div>
  );
};

filter.propTypes = {
  searchText: PropTypes.string,
  sortKind: PropTypes.number,
  onSearchChange: PropTypes.func,
  onSortChange: PropTypes.func
};

export default filter;
